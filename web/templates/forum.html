{% extends 'base.html' %}

{% block head %}
    <title>Forum</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
{% endblock %}

{% block body %}
    <div class="columns">
        <div class="column is-two-thirds">
            {% if session.token %}
                <h1 class="title">Hi, {{session.uname}}!</h1>
            {% else %}
                <h1 class="title">Forum</h1>
            {% endif %}
            <div class="notification is-info btn-round2">
                <button class="delete"></button>
                <strong>Announcement</strong> <span class="bi bi-broadcast"></span>
                <p>Since this is a demo, you can't actually post anything. But you can still view the posts.</p>
            </div>
            <div class="box round main has-text-white">
                <h1 class="title box-mb">Hackers work in the <span style="text-decoration:underline;">dark</span>.</h1>
                <p class="has-text-white box-mb">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ornare magna eros, eu pellentesque tortor vestibulum ut. Maecenas non massa sem. Etiam finibus odio quis feugiat facilisis.</p>
                <a href="#" class="button is-success one btn-round">Register</a>
            </div>
            <div style="background-color: #0c2539 !important;" class="box round has-text-white has-text-centered">
                <a href="https://publishers.adsterra.com/referral/MFdv9HA3ua"><img alt="banner" src="https://landings-cdn.adsterratech.com/referralBanners/png/468%20x%2060%20px.png" /></a>
                <span style="display: block;font-size: 11px;">Advertisement</span>
            </div>
            <div style="padding: 25px;"></div>
            
            <!-- Categories -->
            <h1 class="title"><span class="bi bi-chat-text default-icon"></span> Categories</h1>
            <div id="announcements" class="box round main has-text-white" style="cursor: pointer;">
                <div class="columns">
                    <div class="column is-1">
                        <span class="bi bi-megaphone default-icon"></span>
                    </div>
                    <div class="column is-two-thirds">
                        <span class="title is-4 has-text-white">Announcements</span><br />
                        <span style="font-size: 12px;">
                            News and updates regarding the site are being published by moderators here
                        </span>
                    </div>
                    <div class="column">
                        <nav class="level">
                            <div class="level-item has-text-centered">
                                <div>
                                    <p class="heading">Posts</p>
                                    <p class="title has-text-white">32</p>
                                </div>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
            <div id="universities" class="box round main has-text-white" style="cursor: pointer;">
                <div class="columns">
                    <div class="column is-1">
                        <span class="bi bi-mortarboard default-icon"></span>
                    </div>
                    <div class="column is-two-thirds">
                        <span class="title is-4 has-text-white">Universities</span><br />
                        <span style="font-size: 12px;">
                            Discussions sorted by posts from specific universities.
                        </span>
                    </div>
                    <div class="column">
                        <nav class="level">
                            <div class="level-item has-text-centered">
                                <div>
                                    <p class="heading">Posts</p>
                                    <p class="title has-text-white">3.9K</p>
                                </div>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
            <div id="general" class="box round main has-text-white" style="cursor: pointer;">
                <div class="columns">
                    <div class="column is-1">
                        <span class="bi bi-globe2 default-icon"></span>
                    </div>
                    <div class="column is-two-thirds">
                        <span class="title is-4 has-text-white">General</span><br />
                        <span style="font-size: 12px;">
                            General discussions about anything that doesn't fit in any other category
                        </span>
                    </div>
                    <div class="column">
                        <nav class="level">
                            <div class="level-item has-text-centered">
                                <div>
                                    <p class="heading">Posts</p>
                                    <p class="title has-text-white">3.9K</p>
                                </div>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
            <div id="coding" class="box round main has-text-white" style="cursor: pointer;">
                <div class="columns">
                    <div class="column is-1">
                        <span class="bi bi-code-slash default-icon"></span>
                    </div>
                    <div class="column is-two-thirds">
                        <span class="title is-4 has-text-white">Coding</span><br />
                        <span style="font-size: 12px;">
                            Discuss anything related to coding, programming, and development
                        </span>
                    </div>
                    <div class="column">
                        <nav class="level">
                            <div class="level-item has-text-centered">
                                <div>
                                    <p class="heading">Posts</p>
                                    <p class="title has-text-white">2.3K</p>
                                </div>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
            <div id="tools" class="box round main has-text-white" style="cursor: pointer;">
                <div class="columns">
                    <div class="column is-1">
                        <span class="bi bi-tools default-icon"></span>
                    </div>
                    <div class="column is-two-thirds">
                        <span class="title is-4 has-text-white">Tools and resources</span><br />
                        <span style="font-size: 12px;">
                            Share tools and resources that you use for hacking
                        </span>
                    </div>
                    <div class="column">
                        <nav class="level">
                            <div class="level-item has-text-centered">
                                <div>
                                    <p class="heading">Posts</p>
                                    <p class="title has-text-white">559</p>
                                </div>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
            <div id="bugs" class="box round main has-text-white" style="cursor: pointer;">
                <div class="columns">
                    <div class="column is-1">
                        <span class="bi bi-bug default-icon"></span>
                    </div>
                    <div class="column is-two-thirds">
                        <span class="title is-4 has-text-white">Bugs and Improvements</span><br />
                        <span style="font-size: 12px;">
                            Report bugs and suggest improvements for the site here
                        </span>
                    </div>
                    <div class="column">
                        <nav class="level">
                            <div class="level-item has-text-centered">
                                <div>
                                    <p class="heading">Posts</p>
                                    <p class="title has-text-white">65</p>
                                </div>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
            <div id="others" class="box round main has-text-white" style="cursor: pointer;">
                <div class="columns">
                    <div class="column is-1">
                        <span class="bi bi-chat-square-text default-icon"></span>
                    </div>
                    <div class="column is-two-thirds">
                        <span class="title is-4 has-text-white">Others</span><br />
                        <span style="font-size: 12px;">
                            Specific discussions that doesn't fit in any other category
                        </span>
                    </div>
                    <div class="column">
                        <nav class="level">
                            <div class="level-item has-text-centered">
                                <div>
                                    <p class="heading">Posts</p>
                                    <p class="title has-text-white">194</p>
                                </div>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
            <!-- Categories -->

        </div>
        <div class="column auto">
            <h1 class="title"><span class="bi bi-clock-history default-icon"></span> Latest posts</h1>
            {% for post in data %}
                <div class="box round">
                    <article class="media">
                        <div class="media-left">
                            <figure class="image is-64x64">
                                <img src="{{post[3]}}" class="is-sway" alt="{{post[0]}}">
                            </figure>
                        </div>
                        <div class="media-content">
                            <div class="content">
                                <p class="par title is-4">
                                    <a href="/forum/{{post[4]}}/{{post[5].replace(' ', '-')}}">
                                        {{limit_char(post[5])}}
                                    </a>
                                </p>
                                <span><small>By <a href="/profile/{{post[0]}}">@{{post[0]}}
                                    {% if post[1] == 1 %}
                                        <span class="bi bi-patch-check is-verified"></span>
                                    {% endif %}
                                    {% if post[2] == 1 %}
                                        <span class="modtext">[mod]</span>
                                    {% endif %}
                                </a><span id="time"> - {{get_post_time(post[6])}}</span></small></span>
                            </div>
                        </div>
                    </article>
                </div>
            {% endfor %}
            <a href="/forum/latest" class="button is-info is-fullwidth one btn-round">See all posts</a>
        </div>
    </div>
    <script>
        $(document).ready(function(){
            $("#announcements").click(function(){
                window.location.href = "/forum/announcements";
            });
            $("#universities").click(function(){
                window.location.href = "/forum/universities";
            });
            $("#general").click(function(){
                window.location.href = "/forum/general";
            });
            $("#coding").click(function(){
                window.location.href = "/forum/coding";
            });
            $("#tools").click(function(){
                window.location.href = "/forum/tools-and-resources";
            });
            $("#bugs").click(function(){
                window.location.href = "/forum/bugs-and-improvements";
            });
            $("#others").click(function(){
                window.location.href = "/forum/others";
            });
        });
    </script>
{% endblock %}